$(function(t){jQuery.fn.serializeFromTable=function(e){let n=t.extend({columnNameBy:"default",dataType:"array",displayCount:!1,hideColumns:[],setParentNode:"data",setCountVariableAs:"count",hideEmptyRows:!1,hideRowOnNoData:!0,getValueByDesc:!1},e),i=t(this).attr("id"),a=t("#"+i),r=t(a).find("thead"),o=0,l=[],u=[];function d(t){let e={};return"object"==n.dataType.toLowerCase()||"json"==n.dataType.toLowerCase()?(n.displayCount&&(e[n.setCountVariableAs]=o),e[n.setParentNode]=t,JSON.stringify(e)):JSON.stringify(t)}if("table"!=t(this).prop("tagName").toLowerCase())return d(u);if(r.length<1)return d(u);let f=t(a).find("tbody");if(1!=f.length)return d(u);function s(e){let i=e.find("select,input,label,textarea"),a=i.prop("tagName");if(null==a)return e.text();if("input"==a.toLowerCase()){let n=i.first().attr("type"),a=i.first().attr("name");if("radio"==n.toLowerCase()){if(null==a)return"";let t=e.find("input[name='"+a+"']:checked");return e.find("input[name='"+a+"']").is(":checked")?t.val():""}if("checkbox"==n.toLowerCase()){if(null==a)return"";e.find("input[name='"+a+"']:checked");var r=[];return t.each(t("input[name='"+a+"']:checked",e),(function(){r.push(t(this).val())})),r.join(",")}return i.val()}return"select"==a.toLowerCase()?null!=i.first().attr("multiple")?n.getValueByDesc?t(i).find("option:selected").toArray().map((function(t){return t.text})).join():t(i).find("option:selected").toArray().map((function(t){return t.value})).join():n.getValueByDesc?t("option:selected",i).text():t("option:selected",i).val():"textarea"==a.toLowerCase()?i.val():e.text()}return o=t(a).find("tbody>tr").length,1==n.hideRowOnNoData&&t(f).find("tr").length<=1&&(t(f).find("tr").eq(0).find("td").length<1||t(r).find("tr>th").length!=t(f).find("tr").eq(0).find("td").length)||(t.each(t(r).find("tr>th"),(function(e,i){"default"==n.columnNameBy.toLowerCase()?l.push(t.trim(t(i).text())):null!=t(i).attr(n.columnNameBy)?l.push(t.trim(t(i).attr(n.columnNameBy))):l.push(t.trim(t(i).text()))})),t.each(t(f).find("tr"),(function(e,i){if(!(1==n.hideEmptyRows&&t(i).find("td").length<1)||0==n.hideRowOnNoData&&t(f).find("tr").length<=1){for(var a={},r=0;r<l.length;r++)if(-1==n.hideColumns.indexOf(r)){var o=t(i).find("td").eq(r);a[l[r]]=t.trim(s(o))}u.push(a)}}))),d(u)}/*author:Lalitkumar Naresh Annaldas*/}(jQuery));
