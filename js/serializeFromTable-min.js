$(function(e){"use strict";jQuery.fn.serializeFromTable=function(t){let r=e.extend({columnNameBy:"default",dataType:"array",displayCount:!1,hideColumns:[],getValueByDesc:!1},t);if("table"!=e(this).prop("tagName").toLowerCase())return console.error("This plugin can only be applied to table element."),"{}";let n=e(this).attr("id"),a=e("#"+n),i=e(a).find("thead");if(i.length<1)return console.error("Unable to find thead"),"{}";let o=e(a).find("tbody");if(o.length<1)return console.error("Unable to find tbody"),"{}";let l=e(a).find("tbody>tr").length,u=[],s=[];function f(t){let n=t.find("select,input,label,textarea").last(),a=n.prop("tagName");if(null==a)return t.text();if("input"==a.toLowerCase()){let r=n.first().attr("type"),a=n.first().attr("name");if("radio"==r.toLowerCase()){if(null==a)return console.error("'name' attribute missing for radio type."),"";let e=t.find("input[name='"+a+"']:checked");return t.find("input[name='"+a+"']").is(":checked")?e.val():""}if("checkbox"==r.toLowerCase()){if(null==a)return console.error("'name' attribute missing for checkbox type."),"";t.find("input[name='"+a+"']:checked");var i=[];return e.each(e("input[name='"+a+"']:checked",t),function(){i.push(e(this).val())}),i.join(",")}return n.val()}if("select"==a.toLowerCase()){if(r.getValueByDesc=!0,r.getValueByDesc){if(n.val().length>1){var o=e.trim(e(n).text());return(i=o.split("  ")).join(",")}return e(":selected",n).text()}return n.val()}return"textarea"==a.toLowerCase()?n.val():t.text()}e.each(e(i).find("tr>th"),function(t,n){"default"==r.columnNameBy.toLowerCase()?u.push(e.trim(e(n).text())):null!=e(n).attr(r.columnNameBy)?u.push(e.trim(e(n).attr(r.columnNameBy))):u.push(e.trim(e(n).text()))}),e.each(e(o).find("tr"),function(t,n){for(var a={},i=0;i<u.length;i++)if(-1==r.hideColumns.indexOf(i)){var o=e(n).find("td").eq(i);a[u[i]]=e.trim(f(o))}s.push(a)});let c={};return"object"==r.dataType.toLowerCase()?(r.displayCount&&(c.count=l),c.data=s,JSON.stringify(c)):JSON.stringify(s)}}(jQuery));
